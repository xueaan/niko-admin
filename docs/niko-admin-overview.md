# Niko-Admin 项目概览与架构分析

## 📋 项目基本信息

### 项目简介
**Niko-Admin** 是一个基于 Spring Boot 3.4.7 + Vue 3 的**现代化全栈多租户管理系统**，采用前后端分离架构。项目定位为企业级管理平台，具备完整的权限管理、多租户支持、工作流引擎等企业级功能。

### 核心特性
- 🏢 **多租户架构** - 完整的租户隔离和数据权限控制
- 🔐 **完整权限体系** - 基于 Sa-Token 的RBAC权限模型
- 🌊 **工作流引擎** - 集成 Warm-Flow 国产工作流引擎
- 🔒 **数据安全** - 支持数据加密、API加密、数据脱敏
- 📊 **代码生成器** - 支持多种模板的代码自动生成
- 🚀 **现代化技术栈** - Java 17 + Vue 3 + TypeScript

### 技术架构图

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   前端(Vue3)    │    │   后端(SpringBoot)│   │   数据层        │
│                 │    │                 │    │                 │
│ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────┐ │
│ │  Web-Antd   │ │◄──►│ │ niko-admin  │ │◄──►│ │ PostgreSQL  │ │
│ │             │ │    │ │             │ │    │ │             │ │
│ ├─────────────┤ │    │ ├─────────────┤ │    │ ├─────────────┤ │
│ │ Components  │ │    │ │niko-modules │ │    │ │   Redis     │ │
│ │             │ │    │ │             │ │    │ │             │ │
│ ├─────────────┤ │    │ ├─────────────┤ │    │ ├─────────────┤ │
│ │  Packages   │ │    │ │niko-common  │ │    │ │   MinIO     │ │
│ └─────────────┘ │    │ └─────────────┘ │    │ └─────────────┘ │
└─────────────────┘    └─────────────────┘    └─────────────────┘
       Vue 3                Spring Boot              Storage
    Ant Design              Multi-Module            Multi-DB
```

## 🏗️ 整体架构设计思路

### 设计哲学
1. **模块化设计** - 高内聚、低耦合的模块划分
2. **前后端分离** - 清晰的API接口规范
3. **多租户优先** - 从底层数据设计支持多租户
4. **安全为先** - 全方位的安全防护机制
5. **可扩展性** - 灵活的插件化架构

### 架构层次
```
┌─────────────────────────────────────────────────────────────┐
│                     表现层 (Presentation)                   │
│  Vue3 + Ant Design + TypeScript + Vite                    │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                     应用层 (Application)                    │
│  SpringBoot + Sa-Token + SpringDoc                         │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                     业务层 (Business)                       │
│  System + Generator + Job + Workflow + Demo               │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                     通用层 (Common)                         │
│  Core + Web + MyBatis + Redis + Security + ...            │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                     数据层 (Data)                          │
│  PostgreSQL + Redis + MinIO                               │
└─────────────────────────────────────────────────────────────┘
```

## 📁 项目目录结构详解

### 根目录结构
```
Niko-Admin/
├── 📄 CLAUDE.md              # Claude AI 开发指南
├── 📄 LICENSE                # 开源许可证
├── 📄 pom.xml               # Maven 主配置文件
├── 📁 niko-admin/           # 🎯 主应用模块
├── 📁 niko-common/          # 🔧 通用功能模块集合  
├── 📁 niko-modules/         # 📦 业务功能模块集合
├── 📁 niko-ui/              # 🎨 前端Vue项目
└── 📁 script/               # 📜 部署和数据库脚本
```

### 后端模块详细结构

#### 1. niko-admin (主应用模块)
```
niko-admin/
├── 📄 pom.xml                    # 主应用依赖配置
├── 📁 src/main/java/org/niko/
│   ├── 📄 NikoApplication.java   # 🚀 Spring Boot 启动类
│   ├── 📄 NikoServletInitializer.java # Web容器初始化
│   └── 📁 web/                   # Web层相关代码
│       ├── 📁 controller/        # 核心控制器
│       ├── 📁 service/          # 业务服务层
│       └── 📁 domain/           # 领域模型
└── 📁 src/main/resources/
    ├── 📄 application.yml       # 🔧 主配置文件
    ├── 📄 application-dev.yml   # 开发环境配置
    ├── 📄 application-prod.yml  # 生产环境配置
    └── 📁 i18n/                 # 国际化资源
```

#### 2. niko-common (通用模块集合)
```
niko-common/
├── 📁 niko-common-core/         # ⭐ 核心工具和基础功能
├── 📁 niko-common-web/          # 🌐 Web相关配置和处理器
├── 📁 niko-common-mybatis/      # 🗄️ MyBatis配置和数据权限
├── 📁 niko-common-redis/        # 🔴 Redis配置和缓存管理
├── 📁 niko-common-satoken/      # 🔐 Sa-Token权限认证配置
├── 📁 niko-common-security/     # 🛡️ 安全配置和防护
├── 📁 niko-common-log/          # 📝 日志记录和切面
├── 📁 niko-common-excel/        # 📊 Excel导入导出
├── 📁 niko-common-oss/          # 📎 对象存储服务
├── 📁 niko-common-sms/          # 📱 短信服务
├── 📁 niko-common-mail/         # 📧 邮件服务
├── 📁 niko-common-encrypt/      # 🔒 数据加密和API加密
├── 📁 niko-common-tenant/       # 🏢 多租户支持
├── 📁 niko-common-sse/          # 📡 服务端推送
├── 📁 niko-common-websocket/    # 🔌 WebSocket支持
└── 📁 ... (其他通用模块)
```

#### 3. niko-modules (业务模块集合)
```  
niko-modules/
├── 📁 niko-system/             # 🎯 系统管理核心模块
│   ├── 📁 controller/          # 系统管理控制器
│   ├── 📁 service/             # 业务服务实现
│   ├── 📁 domain/              # 实体和VO模型
│   └── 📁 mapper/              # 数据访问层
├── 📁 niko-generator/          # 🏭 代码生成器模块
├── 📁 niko-demo/               # 🎪 演示功能模块
├── 📁 niko-job/                # ⏰ 定时任务模块
└── 📁 niko-workflow/           # 🌊 工作流引擎模块
```

### 前端项目结构 (niko-ui)

#### Monorepo 架构
```
niko-ui/
├── 📄 package.json             # 主项目配置文件
├── 📄 pnpm-workspace.yaml      # pnpm 工作区配置
├── 📁 apps/                    # 应用程序目录
│   ├── 📁 web-antd/            # 🎨 Ant Design版本主应用
│   └── 📁 backend-mock/        # 🔬 Mock后端服务
├── 📁 packages/                # 共享包和组件库
├── 📁 internal/                # 内部工具和配置
│   ├── 📁 lint-configs/        # 代码规范配置
│   ├── 📁 vite-config/         # Vite构建配置
│   └── 📁 tsconfig/            # TypeScript配置
├── 📁 docs/                    # 📚 项目文档
└── 📁 scripts/                 # 🔧 构建和部署脚本
```

#### 主应用结构 (web-antd)
```
apps/web-antd/
├── 📄 package.json             # 应用依赖配置
├── 📄 vite.config.mts          # Vite配置文件
├── 📁 src/
│   ├── 📄 main.ts              # 应用入口
│   ├── 📄 app.vue              # 根组件
│   ├── 📁 views/               # 页面组件
│   │   ├── 📁 system/          # 系统管理页面
│   │   ├── 📁 monitor/         # 监控管理页面
│   │   ├── 📁 tool/            # 系统工具页面
│   │   └── 📁 workflow/        # 工作流页面
│   ├── 📁 components/          # 通用组件
│   ├── 📁 api/                 # API接口定义
│   ├── 📁 store/               # 状态管理
│   ├── 📁 router/              # 路由配置
│   ├── 📁 utils/               # 工具函数
│   └── 📁 locales/             # 国际化资源
└── 📁 public/                  # 静态资源
```

## 🔧 核心技术栈详解

### 后端技术栈
| 技术 | 版本 | 作用 | 重要性 |
|------|------|------|--------|
| **Spring Boot** | 3.4.7 | 应用框架 | ⭐⭐⭐⭐⭐ |
| **Java** | 17 | 开发语言 | ⭐⭐⭐⭐⭐ |
| **MyBatis Plus** | 3.5.12 | ORM框架 | ⭐⭐⭐⭐⭐ |
| **Sa-Token** | 1.44.0 | 权限认证 | ⭐⭐⭐⭐⭐ |
| **PostgreSQL** | 14.2+ | 主数据库 | ⭐⭐⭐⭐⭐ |
| **Redis** | 7.2.8+ | 缓存/会话 | ⭐⭐⭐⭐⭐ |
| **Redisson** | 3.50.0 | 分布式锁 | ⭐⭐⭐⭐ |
| **Warm-Flow** | 1.7.4 | 工作流引擎 | ⭐⭐⭐⭐ |
| **SpringDoc** | 2.8.8 | API文档 | ⭐⭐⭐ |
| **Hutool** | 5.8.38 | 工具库 | ⭐⭐⭐⭐ |
| **MinIO** | - | 对象存储 | ⭐⭐⭐ |

### 前端技术栈
| 技术 | 版本 | 作用 | 重要性 |
|------|------|------|--------|
| **Vue** | 3.x | 前端框架 | ⭐⭐⭐⭐⭐ |
| **TypeScript** | - | 类型语言 | ⭐⭐⭐⭐⭐ |
| **Vite** | - | 构建工具 | ⭐⭐⭐⭐⭐ |
| **Ant Design Vue** | - | UI组件库 | ⭐⭐⭐⭐⭐ |
| **Pinia** | - | 状态管理 | ⭐⭐⭐⭐ |
| **Vue Router** | - | 路由管理 | ⭐⭐⭐⭐ |
| **pnpm** | 9.12.0+ | 包管理器 | ⭐⭐⭐⭐ |
| **TurboRepo** | - | Monorepo工具 | ⭐⭐⭐ |

## 🌟 核心特性功能

### 1. 多租户支持
- **租户隔离**: 数据层面的完全隔离
- **租户管理**: 租户创建、配置、权限分配
- **灵活切换**: 支持开关控制，可关闭多租户功能

### 2. 权限管理体系
- **RBAC模型**: 用户-角色-权限的经典模型
- **数据权限**: 基于注解的行级数据权限控制
- **菜单权限**: 动态菜单和按钮权限控制
- **接口权限**: API级别的访问控制

### 3. 数据安全功能
- **数据加密**: 敏感字段的自动加解密
- **API加密**: 接口请求响应的加解密
- **数据脱敏**: 敏感数据的自动脱敏显示
- **防重放**: 接口防重复提交机制

### 4. 工作流引擎
- **流程设计**: 可视化流程设计器
- **流程管理**: 流程定义、部署、实例管理
- **任务处理**: 待办、已办任务管理
- **流程监控**: 流程执行状态监控

### 5. 系统监控
- **缓存监控**: Redis缓存状态监控
- **在线用户**: 当前在线用户管理
- **操作日志**: 用户操作行为记录
- **登录日志**: 用户登录行为记录

## 🎯 项目亮点

### 技术亮点
1. **现代化技术栈** - 采用最新稳定版本的技术
2. **模块化设计** - 高度模块化，便于维护和扩展
3. **多数据库支持** - 支持 PostgreSQL、MySQL 等多种数据库
4. **国产化支持** - 集成国产工作流引擎和加密算法
5. **云原生支持** - 支持 Docker 容器化部署

### 业务亮点  
1. **企业级功能** - 涵盖企业管理系统的核心功能
2. **多租户架构** - 支持 SaaS 化部署和运营
3. **完整权限体系** - 细粒度的权限控制机制
4. **数据安全** - 全方位的数据安全防护
5. **工作流支持** - 内置强大的工作流引擎

## 📊 项目规模评估

### 代码规模
- **后端代码**: 约 200+ Java 类文件
- **前端代码**: 约 300+ Vue/TS 文件
- **配置文件**: 约 50+ 配置和脚本文件
- **数据库表**: 约 30+ 核心业务表

### 功能模块
- **通用模块**: 23个独立的通用功能模块
- **业务模块**: 5个核心业务功能模块  
- **前端页面**: 50+ 管理功能页面
- **API接口**: 200+ RESTful API接口

## 🎨 适用场景

### 适合的项目类型
- ✅ 企业内部管理系统
- ✅ SaaS多租户平台
- ✅ 政务管理系统
- ✅ 教育管理平台
- ✅ 电商后台管理
- ✅ 工作流审批系统

### 不适合的场景
- ❌ 高并发C端应用
- ❌ 实时通讯系统
- ❌ 游戏类应用
- ❌ 简单的单页面应用

---

> 📝 **说明**: 这是 Niko-Admin 项目分析文档的第一部分，主要介绍项目的整体概况和架构设计。
> 📖 **下一步**: 查看 `niko-admin-backend-analysis.md` 了解后端模块的详细分析。